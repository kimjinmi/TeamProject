<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mapper.board">
	
	
	<select id="selectByBno" parameterType="int" resultType="board">
		select bno, btitle, bcontent, bdate, memail, to_char(bdate, 'YYYY-MM-DD HH24:Mi:SS') bdate
		from board
		where bno = #{bno}
	</select>
	
	<!-- 	select bno, btitle, bcontent, bdate, blike, memail, cno, bimage
		from board
		order by blike desc  -->
		
	<select id="selectAll" resultType="board">	
		select bno, btitle, bcontent, bdate, blike, cno, bimage, mnickname, mmyimage
		from board b, member m
		where b.memail = m.memail
		order by blike desc
	</select>
	
	<select id="selectCategory" parameterType="int" resultType="board">
		select bno, btitle, bcontent, bdate, blike, cno, bimage, mnickname, mmyimage
		from board b, member m
		where b.memail = m.memail and cno = #{cno}
		order by blike desc
	</select>
	
		<select id="selectUserBoard" parameterType="String" resultType="board">
		select bno,btitle, bcontent, bdate, blike, bimage, mnickname
		from board, member
		where board.memail = member.memail AND board.memail = #{memail}
	</select>
	
	<select id="selectBoardComment" parameterType="int" resultType="reply">
		select rno, rcontent, reply.memail, member.mnickname
		from board, reply, member
		where board.bno = reply.bno AND board.bno = #{bno} AND reply.memail = member.memail
	</select>
</mapper>

