<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mapper.reply">
	
	<select id="selectByPage" parameterType="pager" resultType="reply">
		select rnum, rno, rcontent, rdate, bno, btitle, murl, mnickname, memail
		 from (select rownum as rnum, rno, rcontent, rdate, bno, btitle, murl, mnickname, memail
		      from (select rno, rcontent, rdate, r.bno, btitle, b.murl, mnickname, r.memail 
              		from reply r, board b, member m
                	where  r.bno = b.bno and b.murl = m.murl and b.murl = #{murl}
                	order by r.rdate desc
		            )
		      where rownum &lt;=#{endRowNo}
		        )
		where rnum &gt;=#{startRowNo}
            
	</select>  
	

</mapper>